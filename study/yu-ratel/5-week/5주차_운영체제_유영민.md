# 🎯 Thread-safe 하다는 의미와 설계하는 법을 설명해보세요.

## 📝 Thread-safe ?

멀티 스레드 환경에서 여러 스레드가 하나의 식별자(변수, 객체, 함수 등)에 접근이 이루어 지더라도 프로그램의 실행에 문제가 없고 올바른 결과가 나오는 것을 정의한다.

> 이를 통해 버그나, 데이터 손실 같은 문제를 방지 하여 안정적이고 효울적인 멀티 스레드 환경을 개발할 수 있다.

---

### 📋 Thread-safe 를 위한 방법 4가지

- Mutual exclusion(상호 배제)

  - 공유된 자원에 대한 접근을 한번에 한 스레드로 제안하는 것
    > 주로 뮤텍스, 세마포어로 Lock을 통제하는 일반적인 방법이다.

- Atomic operation(원자 연산)
  - 필요한 연산을 원자적으로 분리하여 연산이 진행중일 때 다른 스레드의 접근이 불가능하게 하여 단일 연산을 시행하는 것
    > 더이상 쪼갤 수 없는 최소한의 실행 단위의 연산
- Thread-local storage(스레드 지역 저장소)

  - 공유 자원에 대한 사용을 최대한 줄여 각자의 지역 저장소를 사용함으로써 공유 자원에 대한 동시접근을 낮추는 것
    > 전역변수등의 예시를 생각하면 좋다.

- Re-entrancy(재진입성)
  - 스레드의 호출과 상관없이 프로그램이 잘 돌아가게 작성하는 것
    > 스레드가 독립적으로 동작할 수 있도록 작성한다고 생각하면 좋다.
