# Thread-safe 하다는 의미와 설계하는 법을 설명해보세요.
두 개 이상의 스레드가 race condition 에 들어가거나 같은 객체에 동시에 접근해도 데이터의 정합성이 보장되고 프로그램의 실행에는 문제가 없는 상태를 말한다.

자바에서는 스레드 세이프한 설계를 위해

1. 인스턴스 변수를 두지 않는다.
2. java.util.concurrent 패키지 하위의 클래스를 사용
3. 멀티 스레드 환경에서의 싱글톤 패턴 사용
4. 동기화(syncronized) 블록에서 연산을 수행한다.

구현방법

- 재진입성(Re-entrancy)

  어떤 함수가 한 스레드에 의해 호출되어 실행 중일 때, 다른 스레드가 그 함수를 호출하더라도 그 결과가 각각에게 올바르게 주어져야 한다.
- 상호 배제(Mutual Exclusion)

  공유 자원을 사용할 경우, 해당 자원에 대한 접근을 Semaphore와 같은 LOCK으로 통제한다.

    - 임계 구역(Critical Section)을 정의한다. 해당 임계구역은 한번에 하나의 스레드만 접근할 수 있도록 해야한다.
    - Java에서는 syncronized를 사용하여 임계구역을 정의한다.
- 스레드 지역 저장소(Thread-Local Storage)

  공유 자원의 사용을 최대한 줄여 각각의 스레드에서만 접근 가능한 저장소를 사용함으로써 동시 접근을 막는다. 이 방식은 동기화 방법과 관련되어 있고, 공유 상태를 피할 수 없을 경우 사용한다.

- 원자 연산(Atomic Operation)
  
    공유 자원에 접근할 때, 원자 연산 또는 원자적으로 정의된 접근 방법을 사용하여 상호 배제를 구현할 수 있다.
- 불변 객체(Immutable Object)

    객체 생성 이후에 값을 변경할 수 없도록 만든다.
