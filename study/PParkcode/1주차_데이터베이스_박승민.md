# 데이터베이스 - Index

## 인덱스란?
데이터베이스 인덱스는 추가적인 쓰기 작업과 저장 공간을 활용하여, 데이터베이스 테이블에 저장된 데이터의 검색 속도를 향상시키기 위한 자료구조이다.
![DB Index](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcBQD97%2FbtqKRtpm2pl%2Frmo7jTbiiE9tsSQsUg0JPK%2Fimg.png)


## 인덱스를 왜 사용할까?

인덱스를 사용하지 않고 컬럼을 조회 해야 한다면, 전체를 탐색해야 하기 때문에(full-scan) 처리 속도가 떨어진다.

만약 대량의 데이터를 가지고 있고, 특정 데이터에 `조회`를 한다면 인덱스를 활용해 빠르게 데이터에 접근할 수 있다.

위 그림처럼 DB에서 인덱스를 사용할 경우, 전체 테이블을 스캔하는 것이 아닌, 인덱스를 사용하여 검색 대상의 레코드 범위를 줄일 수 있다. 이는 검색 속도를 크게 향상시킨다.


## 인덱스의 장단점

### 장점
1. 인덱스의 가장 큰 장점은 빠른 검색 속도이다.
2. 전반적인 시스템의 부하를 줄일 수 있다.

### 단점
1. 인덱스를 관리하기 위해 DB의 약 10%에 해당하는 저장공간이 필요하다.

2. 인덱스를 관리하기 위한 추가 작업이 필요하다.

3. `삽입`, `삭제`, `수정` 작업 시에도 인덱스를 업데이트해야 하기 때문에, 성능 저하가 발생할 수 있다.

4. 인덱스를 적절하게 사용하지 않는다면, 오히려 DB의 성능이 저하되거나 저장 공간의 낭비가 발생할 수 있다.


## 인덱스는 언제 사용하는 것이 좋을까?

#### 1. 대량의 데이터를 검색해야 하는 경우
대량의 데이터에 대해 검색해야 하는 경우, 인덱스를 사용하여 검색 속도를 향상 시킬 수 있다.


#### 2. 정렬된 결과를 출력하는 경우
인덱스를 사용하여 데이터를 정렬하면 매우 빠르게 정렬된 결과를 출력할 수 있다.



#### 3. Join 연산을 수행하는 경우
`Join` 연산을 수행하는 경우, 인덱스를 사용하여 연산 속도를 향상 시킬 수 있다.


#### 4. 유니크한 값을 가져 오는 경우
인덱스는 유니크한 값을 가지고 있는 필드에 대해 중복되니 않는 값을 빠르게 검색할 수 있다.


#### 5. 검색 빈도가 높은 경우
검색 빈도가 높은 필드에 대해 인덱스를 생성하여 검색 속도를 향상시킬 수 있다.


#### 6. 수정 빈도가 낮으며, 데이터 중복이 적은 컬럼
만약 `생성`, `삭제`, `수정`이 빈번한 속성에 인덱스를 생성하게 되면, 인덱스의 크기가 커져, 성능이 오히려 저하되는 역효과를 발생할 수 있다.
왜냐하면 삭제, 수정 작업은 기존 인덱스를 삭제하는 것이 아닌 `사용하지 않음` 처리를 해주기 때문에, 실제 데이터보다 훨씬 많은 인덱스가 존재할 수 있다.

또한 성별과 같은 데이터 중복이 높은 값을 인덱스로 생성하는 것은 크게 의미가 없다.
이는 인덱스 사용의 이점보다 추가 저장 공간이나 데이터 수정에 대한 성능 저하가 더 크다.



## 참고 자료
https://daco2020.tistory.com/258

https://mangkyu.tistory.com/96

https://ittrue.tistory.com/331