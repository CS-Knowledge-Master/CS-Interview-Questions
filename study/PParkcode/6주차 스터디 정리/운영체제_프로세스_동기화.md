
# 운영체제 - 프로세스 동기화

## 프로세스 동기화란?

- 프로세스 동기화는 여러 프로세스가 공유된 자원에 동시에 접근하는 것을 조절하고, 실행 순서를 조절하여 프로그램이 의도한 대로 동작하도록 하는 메커니즘을 의미한다.

- 프로세스 동기화는 공유 자원에 대한 안전하고 일관된 접근을 보장하여 데이터 손상이나 불일치 문제를 방지하며, 병행 프로그래밍에서 발생할 수 있는 문제를 해결한다.


## 프로세스 동기화의 주요 목표

- **상호배제(Mutal Exclusion)**
  한 순간에 하나의 프로세스만이 공유 자원에 접근할 수 있도록 보장한다.
  이것은 여러 프로세스 간에 경쟁 조건을 방지하고, 데이터 일관성을 유지하기 위한 핵심 원칙이다.

- **진행(Progress)**
  임계구역을 사용하고 있지 않다면, 다른 프로세스가 접근할 수있도록 한다.

- **한정대기(Bounded Waiting)**
  각 프로세스가 자원에 대한 접근을 기다릴 때, 일정 횟수의 제한된 대기만을 허용하며, 무한정 대기를 방지한다.
  즉, 임계구역 진입횟수에 한계를 두어 같은 프로세스가 계속해서 독점해서 사용하지 못하게 한다.
  프로세스들의 기아상태를 방지한다.


## Lock 기법

- 임계 영역에 접근할 때는 `Lock`을 걸어 다른 프로세스가 임계영역에 접근하지 못하도록 한다.

- 임계 영역에서의 작업을 마쳤다면, `Lock`을 반납해서 다른 프로세스가 `Lock`을 획득하여 임계영역에 접근할 수 있도록 한다.

- `Lock`은 소유하고 있는 프로세스(혹은 쓰레드)만이 `Lock`을 해제할 수 있기 때문에 해당 프로세스(쓰레드)가 공유 자원에 대한 책임이 발생한다.

- 단점으로는 임계영역에 프로세스가 존재할 때, 다른 프로세스들이 계속해서 진입하려고 시도하기 때문에, CPU를 낭비하게 된다.`(Busy Waiting)`


## 세마포어

- 세마포어는 카운터 값을 사용하여 여러 프로세스 또는 쓰레드 간의 상호배제를 제어하며, 상호배제 외에도 프로세스 간의 통신에 사용될 수 있다.

- `Signal Mechanism`이다.

- 세마포어는 `wait`와 `signal` 오퍼레이션에 의해 상태가 변화한다.

- 현재 공유자원에 접근할 수 있는 쓰레드, 프로세스의 수를 나타내는 값을 두어 상호배제를 달성할 수 있다.


