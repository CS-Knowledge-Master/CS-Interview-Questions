# 프로세스와 쓰레드의 차이를 설명해 보세요.

## 답변

```
프로세스는 운영체제로부터 자원을 할당받은 작업의 단위이고 쓰레드는 이렇게 할당받은 자원을 이용하는 실행 흐름의 단위입니다.
즉 프로세스 내부의 쓰레드가 존재하고 이들이 일을 수행하는것입니다.
```

## 내용 정리
- 프로세스: 운영체제로부터 자원을 할당받은 작업의 단위
- 스레드: 프로세스가 할당받은 자원을 이용하는 실행흐름의 단위 (‘CPU 입장’에서의 최소 작업단위)
- 프로그램: 파일이 저장장치에 저장되어 있지만 메모리에는 올라가있지 않은 정적인 상태 ⇒ 코드 덩어리(실행전 상태)
- 실행해서 작동하는 프로그램 = 프로세스

- 프로그램이 복잡해지면서 하나의 프로세스로 돌리기에는 무리가 생기게 됨.
  - 그럼 여러 프로세스로 돌리는건?    
    메모리를 불필요하게 많이 차지하게 됨.   
    프로세스가 메모리에 올라가게되면 OS로 부터 `자원`을 할당받음. 
    - 자원: 독립된 메모리영역을 Code/Data/Stack/Heap의 형식으로 할당해줌. 이때 다른 프로세스 메모리에는 접근하지 못한다.
      - 종류
        - Code   
          코드들이 기계어 형태로 저장되어있는 공간
        - Data   
          코드가 실행되면서 사용되는 전역변수 및 각종데이터가 모여있는 공간
          - 데이터
              - data:전역변수, static 변수(?)등 프로그램이 사용한는 데이터
              - .BSS:초기값이 없는 전역변수 static 변수(?)
              - .rodata:const같은 상수 키워드 선언된 변수나 문자열 상수
        - Stack   
          지역변수와 같은 임시적인 자료를 저장하는 공간. 함수 호출시 할당되고 호출 끝나면 소멸, stack초과시 stakc overflow에러 발생
        - Heap   
          생성자,인스턴스와 같은 동적으로 할당되는 데이터들을 위해 존재하는 공간.
- 쓰레드의 자원 공유 특징   
  쓰레드는 프로세스 내부에서 Code Data Heap을 공유자원으로 가지고 쓰레드별로 Stack을 가지게 된다.
  이로 인해 한 쓰레드가 오류로 인해 강제종료가 되면 다른 쓰레드들도 강제종료가 된다.

- 프로세스의 자원 공유 방식
  1. PC(Inter-Process Communication)을 사용한다.
  2. LPC(Local inter-Process Communication)을 사용한다.
  3. 별도로 공유 메모리를 만들어서 정보를 주고받도록 설정해주면 된다.
  - 문제점
    자원 부담이 큼. 따라서 현대에는 멀티프로세싱을 지원하지만 기본은 멀티 쓰레딩이다.
- 멀티 쓰레딩
  여러개의 쓰레드를 사용하여 작업을 수행. 병렬성(Parallelism)과 동시성(Concurrency)를 기반으로 한다.
  - 장점
    1. Context-Switching할 때 공유하고 있는 메모리만큼의 메모리 자원을 아낄 수 있다.
    2. 스레드는 프로세스 내의 Stack 영역을 제외한 모든 메모리를 공유하기 때문에 통신의 부담이 적어서 응답 시간이 빠르다.
  - 단점
    1. 스레드 하나가 프로세스 내 자원을 망쳐버린다면 모든 프로세스가 종료될 수 있다.
    2. 자원을 공유하기 때문에 필연적으로 **동기화 문제**가 발생할 수밖에 없다.