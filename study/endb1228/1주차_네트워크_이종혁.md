# 네트워크

## 웹 통신의 큰 흐름: https://www.google.com/ 을 접속할 때 일어나는 일

---

### 알고 있었던 내용

1. 브라우저에서 https://www.google.com 에 접속하기 위한 요청을 만든다.
2. 해당 url에 대응되는 ip를 찾기 위한 도메인 서버에서 DNS lookup 과정을 진행한다.  

...


---

### 조사한 내용 및 면접 답변 내용
  
1. DNS lookup을 통해 아래의 순서로 도메인에 매칭되는 ip를 검색한다.
   - 브라우저 캐시
   - OS 캐시 (hosts 파일)
   - Local DNS 서버
   - Root DNS 서버
   - TLD DNS 서버
   - SLD DNS 서버
   - Subdomain DNS 서버
2. 브라우저에서 HTTP 요청을 만든다.
3. 프로토콜에 따라 handshake를 통해 서버와의 연결을 수립한다.
4. 해당 ip에 HTTP 요청을 보낸다.
5. 서버는 해당 요청에 대한 응답을 생성한다.
6. 서버는 클라이언트에게 응답을 보낸다.
7. 프로토콜에 따라 handshake를 통해 서버와의 연결을 종료한다.
8. 브라우저는 응답을 받고 렌더링하여 사용자에게 컨텐츠를 보여준다.

---

### 면접 답변용 정리

사용자가 브라우저에 https://www.google.com 를 입력하면 다음과 같은 과정을 따른다.  
먼저 DNS lookup을 통해 도메인에 매칭되는 ip를 검색한다.
DNS lookup은 브라우저 캐시, OS 캐시, Local DNS 서버, DNS 서버를 순서로 확인하며,  
DNS 서버는 Root, TLD, SLD, Subdomain을 순서로 확인힌다.  
ip를 확인하고 나면 브라우저는 해당 ip의 서버에 보내기 위한 요청을 생성한다.  
프로토콜에 따라 handshake를 통해 서버와의 연결을 수립하고, 서버에 요청을 보낸다.  
서버는 해당 요청에 대한 응답을 생성하고, 클라이언트에게 응답을 보낸다.  
클라이언트가 응답을 받고나면 연결을 종료한다.  
브라우저는 응답을 받고 렌더링한다.  
---

### 꼬리 질문

1. 요청/응답을 주고받는 방식에 대해
2. Root, TLD, SLD, Subdomain의 차이점에 대해
