# 네트워크

##  TCP와 UDP의 차이점에 대해서 설명해보세요.

---

### 알고 있었던 내용

TCP는 송신하는 데이터와 수신된 데이터 사이의 무결성을 위해 고안된 프로토콜이다.  
3-way handshake로 연결을 수립하며, 4-way handshake로 연결을 해제한다.  
송신자는 수신자에게 데이터를 보내고, 수신자는 데이터를 받았다는 응답을 송신자에게 보낸다.  
송신자는 수신자가 데이터를 받았다는 응답을 받을 때까지 데이터를 보낸다.  
무결성이 가장 큰 특징이기 떄문에 파일 전송에서 주로 사용된다.

반면 UDP는 무결성보다는 빠르고 지속적으로 데이터를 보내기 위해 고안된 프로토콜이다.  
수신자가 데이터를 성공적으로 받았는지와는 관계없이 데이터를 보낸다.  
주로 GPS같은 센서 데이터, 동영상 스트리밍, 혹은 게임에서 많이 사용하는 것 같다. (실시간/지속성)  
기존에 TCP 기반이었던 HTTP/1과 HTTP/2와는 다르게 HTTP/3는 UDP를 기반으로 되어 있다.

---

### 조사한 내용

TCP와 UDP 모두 세그먼트라는 단위로 통신한다. (패킷이라는 용어를 사용하는 경우도 있는데, 세그먼트가 옳은 표현이라고 한다.)

TCP는 보내고자하는 데이터가 있을 떄, 연결을 수립하고 나서 데이터를 세그먼트 단위로 쪼개서 통신한다.  
각각의 세그먼트에는 순서가 할당되어 있기 떄문에 수신자는 어떤 세그먼트를 받지 못 했는지 알 수 있고, 잘 받았다면 이를 송신자에게 알려준다.  
세그먼트에 에러가 있다면 송신자에게 다시 요청해서 에러를 복구하는 요소도 존재한다.  
그리고 모든 세그먼트를 받았다면 연결을 종료하고 세그먼트의 순서에 따라 원본 데이터로 완성을 시킨다.  

반면 UDP는 TCP와 다르게 연결을 수립하지 않기 떄문에 세그먼트의 순서가 불필요하며, 모든 세그먼트가 독립적인 데이터라고 보면 된다.  
TCP에서 신뢰성을 보장하기 위한 수많은 요소들이 전무하기 떄문에, TCP에 비해서 속도가 비약적으로 빠르다.  
다만 UDP의 스펙이 기본적으로는 신뢰성을 보장하지 않는다 뿐이지, 사용자의 필요에 따라 신뢰성을 보장할 수 있도록 구현할 수 있다.  

---

### 면접 답변용 정리

TCP와 UDP의 차이점은 둘의 사용 목적의 차이에서 비롯되었다고 볼 수 있을 것 같다.  
TCP는 데이터의 신뢰성을 보장하기 위해 사용하고, UDP는 데이터 전송 효율과 속도를 위해 사용한다.  
TCP에서는 3/4-way handshake로 연결 수립/해제를 통해 하나의 데이터를 세그먼트로 쪼개서 송신하더라도,  
수신자는 세그먼트를 순서에 맞게 다시 조립하여 데이터를 온전히 수신할 수 있도록 한다.  
반면에 UDP는 수신자가 데이터를 수신했는지 유무에 관계없이 지속적으로 데이터를 보낸다.  
또한 별도의 연결이 없어 각각의 세그먼트는 모두 별개의 데이터를 담고 있다.  


---

### 꼬리 질문

1. TCP가 신뢰성을 보장하는 방법에는 어떤 것들이 있을까
2. TCP의 3/4-way handshake에 대해서
3. UDP는 신뢰성을 보장할 수 없는가?
