# 운영체제

## Thread-safe 하다는 의미와 설계하는 법을 설명해보세요.

---

### Thread-safe란?

멀티 스레드 프로그래밍에서 여러 스레드에서 동일한 변수나 함수에 동시에 접근을 시도했을 떄, 기능적으로, 논리적으로 문제가 발생하지 않는 것.

### Thread-safe하게 설계하는 법

1. Reentrancy (재진입)  
- Thread-safe와는 다른 개념이지만, 밀접한 관련이 있음.  
정적/전역 변수를 제거하는 등의 방식으로 공통적으로 해결되는 경우가 많음.

- Interrupt가 발생했을 때, 재진입할 때까지 전역 변수에 Mutex를 거는 것을 생각해볼 수 있음.

2. TLS (**T**hread **L**ocal **S**torage)

- 각 스레드가 정적/전역 변수에 접근할 때 값을 복사하여 사용하도록 함.
- 복사된 값은 원본 값이 아님을 주의해야 함.

3. Immutable Object
- 불변 객체를 사용하고, 객체를 수정하는 대신 새로운 객체를 생성할 수 있음.
- 함수형 프로그래밍에서 사용되는 방식.

4. Mutual Exclusion
- 뮤텍스, 세마포어.

5. Atomic Operation
- 기계어 명령어를 사용하여 원자적 연산을 수행할 수 있음.
- 정확히 어떤 방식으로 thread-safe한지는 모르겠다.
