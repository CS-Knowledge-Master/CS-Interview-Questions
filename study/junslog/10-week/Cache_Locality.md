### 캐시의 지역성에 대해 설명해주세요.

### 캐시 메모리 ( Cache Memory )
- 속도가 빠른 장치와 느린 장치간의 속도 차에 따른 병목 현상을 완화하기 위한 범용 메모리
- 주기억장치에서 자주 사용하는 프로그램, 데이터를 저장해두어 처리 속도를 빠르게 한다.
- 캐시 기억장치와 주기억장치 사이에서 정보를 옮기는 것을 사상(Mapping, 매핑)이라 함.
- CPU가 주기억장치에 접근하는 횟수를 줄여, 컴퓨터의 처리속도가 향상된다.

## Mapping의 3가지 방법

[ 직접 매핑 ( Direct Mapping ) ]
- 주기억장치의 블록들이 지정된 한 개의 캐시 라인으로만 사상할 수 있는 매핑 방법
- 간단하고 구현하는 비용이 적지만, 캐시 적중률 ( Cache Hit Rate )이 낮아질 수 있다.

[ 연관 매핑 (Associate Mapping) ]
- 직접 매핑 방식의 단점을 보완한 방식
- 모든 태그들을 병렬로 검사한다, 복잡하고 비용이 높아 거의 사용하지 않음.

[ 집합 연관 매핑 ( Set Associate Mapping )]
- 직접 매핑과 연관 매핑의 장점만을 취한 방식
- 정해진 블록의 집합 내 어디서든 매핑이 가능

### 캐시의 지역성

- 캐시 메모리의 역할을 제대로 수행하기 위해서는, <br> CPU가 어떤 데이터를 원할 것인가를 어느정도 예측할 수 있어야 한다.
- 캐시 적중률(Hit rate)를 극대화하기 위해, 캐시의 지역성을 사용함.
- 지역성의 전제조건
  - 프로그램은 모든 코드나 데이터를 균등하게 접근하지 않는다.
  - 프로그램은 어느 한 순간에 특정 부분의 코드나 데이터를 집중적으로 참조한다.

### 용어
- 캐시 적중 ( Cache Hit )
  - CPU가 엑세스하려는 데이터가 이미 캐시에 적재된 상태
- 캐시 미스 ( Cache Miss )
  - CPU가 엑세스하려는 데이터가 캐시에 없어 주기억장치로부터 인출해 와야하는 상태
- 캐시 적중률 ( Cache Hit Rate )
  - CPU가 원하는 데이터가 캐시에 있을 확률 ( 캐시에 적중되는 횟수 / 전체 기억장치 엑세스 횟수 )
- 미스율 ( Miss Rate )
  - CPU가 원하는 데이터가 캐시에 없을 확률 ( 1 - Cache Hit Rate )

### 캐시의 지역성 종류
- 시간적 지역성 ( Temporal Locality )
  - 최근에 참조된 주소의 내용은 곧 다음에 다시 참조된다.
  - for문 while문을 예시로 들 수 있음.
- 공간적 지역성 ( Spatial Locality )
  - 기억장치 내에 서로 인접하여 저장되어 있는 데이터들이 연속적으로 엑세스 될 가능성이 높다.
    - 배열과 연결리스트 ( => 배열은 캐시의 지역성 사용가능, 연결리스트는 불가능 )
    - CPU 캐시나, 디스크 캐시의 경우 한 메모리 주소에 접근할 때, <br> 
    그 주소뿐 아니라 해당 블록을 전부 캐시에 가져옴.
    - 이 때, 메모리 주소를 오름차순이나 내림차순으로 접근하면, 캐시에 이미 저장된 같은 블록의 데이터를 <br>
    접근하게 되므로, 캐시의 효율성이 크게 향상됨.

### Caching Line
- 캐시가 아무리 CPU 가까이 있더라도, 찾고자 하는 데이터가 어느 곳에 저장되어 있는지 몰라 <br>
  모든 데이터를 순회해야 한다면 시간이 오래걸릴 것임.
- 케시에 목적 데이터가 저장되어 있다면, 바로 접근하여 출력할 수 있어야 캐시를 효율적으로 활용 가능
- 이러한 이유로, 캐시에 데이터를 저장할 때 특정 자료구조를 사용하여 '묶음'으로 저장한다. 이를 캐싱라인(caching line)이라 함.
- 직접 매핑, 연관 매핑, 집합 연관 매핑 방식이 있다.


참조 지역성 예시 참고해야할 자료 ( 행렬의 곱셈 순서 & 캐시의 지역성 -> 캐시 적중률을 높여 성능 향상 )
: https://code-lab1.tistory.com/322