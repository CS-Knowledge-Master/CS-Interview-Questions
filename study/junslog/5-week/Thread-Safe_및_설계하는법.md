### Thread-Safe 하다는 의미와 설계하는 법에 대해 말씀해주세요.

Thread-Safe 하다는 것은,

- 두 개 이상의 Thread가 Race Condition에 들어가거나,
같은 객체에 동시에 접근해도, 연산결과의 정합성이 보장될 수 있도록
메모리 가시성이 확보된 상태를 의미합니다.

- 멀티 스레드 프로그래밍에서 어떤 함수나 변수 혹은 객체가
어떤 스레드로부터 동시에 접근이 이루어져도 문제가 생기지 않는다는 것을 의미합니다.
여러 곳에서 동시에 접근하더라도 그 결과가 올바른 것

#### 메모리 가시성(Memory Visibility)
- 한 Thread에서 변경한 특정 메모리의 값이,
다른 Thread에서 제대로 읽어지는가의 여부

참고 블로그 : https://blog.naver.com/jjoommnn/130037479493

### 설계 방법
- java.util.concurrent 패키지 하위의 클래스를 사용한다.
- 인스턴스 변수를 두지 않는다.
- Singleton 패턴을 사용한다.
- 동기화(synchronized) 블럭에서 연산을 수행한다.

### Thread-Safe 구현 방법
- 재진입성(Re-Entrancy)
: 어떤 함수가 한 스레드에 의해 호출되어 실행 중일 때,
다른 스레드가 그 함수를 호출하더라도 그 결과가 각각에게 올바르게 주어져야 한다.

- 상호 배제(Mutual Exclusion)
: 공유 자원을 사용할 경우, 해당 자원에 대한 접근을 Semaphore와 같은 Lock으로 통제한다.
: 임계 구역(Critical Section)을 정의한다. 해당 임계구역은 한번에 하나의 스레드만 접근할 수 있도록 해얗나다.
: Java에서는 Synchronized를 사용하여 임계구역을 정의한다.

- 스레드 지역 저장소(Thread-Local Storage)
: 공유 자원의 사용을 최대한 줄여, 각가의 스레드에서만 접근 가능한 저장소를 사용함으로써 동시 접근을 막는다. ( DB의 MVCC 와 비슷 )
: 이 방식은 동기화 방법과 관련되어 있고, 공유 상태를 피할 수 없는 경우 사용한다.

- 원자 연산(Atomic Operation)
: 공유 자원에 접근할 때, 원자 연산 또는 원자적으로 정의된 접근 방법을 사용하여 상호 배제를 구현한다.

- 불변 객체(Immutable Object)
: 객체 생성 이후에 값을 변경할 수 없도록 만든다.